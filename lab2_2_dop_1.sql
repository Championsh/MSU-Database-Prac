ALTER TABLE kvn.state DROP COLUMN league_id;
ALTER TABLE kvn.state DROP COLUMN year_no;

ALTER TABLE kvn.season DROP COLUMN league_id;
ALTER TABLE kvn.season DROP COLUMN year_num;

ALTER TABLE kvn.season ADD COLUMN league_id integer;
ALTER TABLE kvn.season ADD COLUMN year_num integer;
INSERT INTO kvn.season(league_id, year_num)
VALUES
(1, 2021),
(1, 2022),
(1, 2023),
(2, 2021),
(2, 2022),
(2, 2023),
(3, 2021),
(3, 2022),
(3, 2023),
(4, 2021),
(4, 2022),
(4, 2023),
(5, 2021),
(5, 2022),
(5, 2023),
(6, 2021),
(6, 2022),
(6, 2023),
(7, 2021),
(7, 2022),
(7, 2023),
(8, 2021),
(8, 2022),
(8, 2023),
(9, 2021),
(9, 2022),
(9, 2023),
(10, 2021),
(10, 2022),
(10, 2023),
(11, 2021),
(11, 2022),
(11, 2023),
(12, 2021),
(12, 2022),
(12, 2023),
(13, 2021),
(13, 2022),
(13, 2023),
(14, 2021),
(14, 2022),
(14, 2023),
(15, 2021),
(15, 2022),
(15, 2023),
(16, 2021),
(16, 2022),
(16, 2023),
(17, 2021),
(17, 2022),
(17, 2023),
(18, 2021),
(18, 2022),
(18, 2023),
(19, 2021),
(19, 2022),
(19, 2023),
(20, 2021),
(20, 2022),
(20, 2023),
(21, 2021),
(21, 2022),
(21, 2023),
(22, 2021),
(22, 2022),
(22, 2023),
(23, 2021),
(23, 2022),
(23, 2023),
(24, 2021),
(24, 2022),
(24, 2023),
(25, 2021),
(25, 2022),
(25, 2023),
(26, 2021),
(26, 2022),
(26, 2023),
(27, 2021),
(27, 2022),
(27, 2023),
(28, 2021),
(28, 2022),
(28, 2023),
(29, 2021),
(29, 2022),
(29, 2023),
(30, 2021),
(30, 2022),
(30, 2023),
(31, 2021),
(31, 2022),
(31, 2023),
(32, 2021),
(32, 2022),
(32, 2023),
(33, 2021),
(33, 2022),
(33, 2023),
(34, 2021),
(34, 2022),
(34, 2023),
(35, 2021),
(35, 2022),
(35, 2023),
(36, 2021),
(36, 2022),
(36, 2023),
(37, 2021),
(37, 2022),
(37, 2023),
(38, 2021),
(38, 2022),
(38, 2023),
(39, 2021),
(39, 2022),
(39, 2023),
(40, 2021),
(40, 2022),
(40, 2023),
(41, 2021),
(41, 2022),
(41, 2023),
(42, 2021),
(42, 2022),
(42, 2023),
(43, 2021),
(43, 2022),
(43, 2023),
(44, 2021),
(44, 2022),
(44, 2023),
(45, 2021),
(45, 2022),
(45, 2023),
(46, 2021),
(46, 2022),
(46, 2023),
(47, 2021),
(47, 2022),
(47, 2023),
(48, 2021),
(48, 2022),
(48, 2023),
(49, 2021),
(49, 2022),
(49, 2023),
(50, 2021),
(50, 2022),
(50, 2023),
(51, 2021),
(51, 2022),
(51, 2023),
(52, 2021),
(52, 2022),
(52, 2023),
(53, 2021),
(53, 2022),
(53, 2023),
(54, 2021),
(54, 2022),
(54, 2023),
(55, 2021),
(55, 2022),
(55, 2023),
(56, 2021),
(56, 2022),
(56, 2023),
(57, 2021),
(57, 2022),
(57, 2023),
(58, 2021),
(58, 2022),
(58, 2023),
(59, 2021),
(59, 2022),
(59, 2023),
(60, 2021),
(60, 2022),
(60, 2023),
(61, 2021),
(61, 2022),
(61, 2023),
(62, 2021),
(62, 2022),
(62, 2023),
(63, 2021),
(63, 2022),
(63, 2023),
(64, 2021),
(64, 2022),
(64, 2023),
(65, 2021),
(65, 2022),
(65, 2023),
(66, 2021),
(66, 2022),
(66, 2023),
(67, 2021),
(67, 2022),
(67, 2023),
(68, 2021),
(68, 2022),
(68, 2023),
(69, 2021),
(69, 2022),
(69, 2023),
(70, 2021),
(70, 2022),
(70, 2023),
(71, 2021),
(71, 2022),
(71, 2023),
(72, 2021),
(72, 2022),
(72, 2023),
(73, 2021),
(73, 2022),
(73, 2023),
(74, 2021),
(74, 2022),
(74, 2023),
(75, 2021),
(75, 2022),
(75, 2023),
(76, 2021),
(76, 2022),
(76, 2023),
(77, 2021),
(77, 2022),
(77, 2023);


ALTER TABLE kvn.season ADD FOREIGN KEY (league_id)
  REFERENCES kvn.league;
ALTER TABLE kvn.season ADD PRIMARY KEY (league_id, year_num);

ALTER TABLE kvn.state ADD COLUMN league_id integer;
ALTER TABLE kvn.state ADD COLUMN year_no integer;
ALTER TABLE kvn.state ADD FOREIGN KEY(league_id, year_no)
	REFERENCES kvn.season;
	
SELECT * FROM kvn.season;
